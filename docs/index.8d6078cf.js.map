{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-9ac77da520b298e4.js","node_modules/@parcel/runtime-js/lib/runtime-a928ec9c27b6638d.js","src/js/weather.ts","src/js/wear.ts","src/js/main.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"fzFkW\\\":\\\"index.8d6078cf.js\\\",\\\"e1Gvf\\\":\\\"Xuw0.9268b87b.gif\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"e1Gvf\")).toString();","import catGif from \"../images/gif/Xuw0.gif\";\n\nconst weatherBlock = document.querySelector(\".weather__block\");\n\nexport interface Data {\n  location: any;\n  temp: number;\n  feelsLike: number;\n  weatherStatus: any;\n  weatherIcon: any;\n  wind: number;\n  main: any;\n}\n\nexport async function loadWeather(): Promise<Data | undefined> {\n  if (weatherBlock != null) {\n    weatherBlock.innerHTML = `\n    <div class=\"weather__loading\">\n    <img src=\"${catGif}\" alt=\"Загрузка\" />\n  </div>`;\n  }\n\n  const server =\n    \"https://api.openweathermap.org/data/2.5/weather?units=metric&q=Moscow&lang=ru&appid=e2e9bbafa027ecadd7d96a8ed7faef14\";\n  const response = await fetch(server, { method: \"GET\" });\n  const responseResult = await response.json();\n\n  if (response.ok) {\n    // getWeather(responseResult);\n    // return responseResult;\n    // console.log(responseResult);\n\n    return {\n      location: responseResult.name,\n      temp: Math.round(responseResult.main.temp),\n      feelsLike: Math.round(responseResult.main.feels_like),\n      weatherStatus: responseResult.weather[0].description,\n      weatherIcon: responseResult.weather[0].icon,\n      wind: responseResult.wind.speed,\n      main: responseResult.weather[0].main,\n    };\n  } else {\n    if (weatherBlock != null) {\n      weatherBlock.innerHTML = responseResult.message;\n    }\n  }\n}\n\nexport function getWeather(data) {\n  const weatherBlock = document.querySelector(\".weather__block\");\n\n  console.log(data);\n\n  const { location, temp, feelsLike, weatherStatus, weatherIcon, wind } = data;\n\n  // HTML шаблон\n  const template = `\n  <div class=\"weather__city\">${location}</div>\n  <div class=\"weather__info\">\n    <div class=\"weather__icon\">\n      <img src=\"https://openweathermap.org/img/w/${weatherIcon}.png\" alt=\"погодный статус\" />\n    </div>\n    <div class=\"weather__status\">${weatherStatus}</div>\n  </div>\n  <div class=\"weather__temp\">\n    <div class=\"weather__real\">${temp}°</div>\n    <div class=\"weather__feels-like\">Ощущается как: ${feelsLike}°</div>\n    <div class=\"weather__wind\">Ветер: ${wind} м/с</div>\n  </div>\n  `;\n  if (weatherBlock != null) {\n    weatherBlock.innerHTML = template;\n  }\n}\n\nexport function renderWeather() {\n  if (weatherBlock) {\n    loadWeather();\n  }\n}\n","import { Data } from \"./weather\";\n\nexport function getWear(data: Data) {\n  console.log(data);\n  const { feelsLike, temp, weatherIcon, weatherStatus, wind, main } = data;\n\n  function renderTemp() {\n    const wearTemp = document.querySelector(\".wear__temp\");\n    const baseTemp = {\n      above30: `На улице настоящая жаришка! ${weatherStatus}, ${temp}° градусов.`,\n      above25: `25`,\n      above20: `На улице ${weatherStatus}, достаточно тепло, ${temp}° градусов.`,\n      above15: `На улице `,\n      above10: `Что ж, на улице ${weatherStatus}, температура ${temp}° градусов.\n    Стоит достаточно тепло одеться, обязательно надеваем шапку.\n    Отлично подойдут джинсы с колготками, бадлон, не забываем под падлон надеть маечку!\n    Поверх теплую курточку: бомбер или пуховички из Юникло. На ноги сапоги или тимбы!\n    `,\n      above5: `За окном прохладно, ${weatherStatus}, температура ${temp}° градусов.`,\n      above0: `0`,\n      aboveMinus5: `-5`,\n      aboveMinus10: `-10`,\n      aboveMinus15: `-15`,\n      aboveMinus20: `-20`,\n      aboveMinus25: `-25`,\n      belowminus25: `-30`,\n    };\n    if (wearTemp != null) {\n      if (temp >= 30) {\n        wearTemp.textContent = baseTemp.above30;\n      } else if (temp >= 25) {\n        wearTemp.textContent = baseTemp.above25;\n      } else if (temp >= 20) {\n        wearTemp.textContent = baseTemp.above20;\n      } else if (temp >= 15) {\n        wearTemp.textContent = baseTemp.above15;\n      } else if (temp >= 10) {\n        wearTemp.textContent = baseTemp.above10;\n      } else if (temp >= 5) {\n        wearTemp.textContent = baseTemp.above5;\n      } else if (temp >= 0) {\n        wearTemp.textContent = baseTemp.above0;\n      } else if (temp >= -5) {\n        wearTemp.textContent = baseTemp.aboveMinus5;\n      } else if (temp >= -10) {\n        wearTemp.textContent = baseTemp.aboveMinus10;\n      } else if (temp >= -15) {\n        wearTemp.textContent = baseTemp.aboveMinus15;\n      } else if (temp >= -20) {\n        wearTemp.textContent = baseTemp.aboveMinus20;\n      } else if (temp >= -25) {\n        wearTemp.textContent = baseTemp.aboveMinus25;\n      } else if (temp < -25) {\n        wearTemp.textContent = baseTemp.belowminus25;\n      }\n    }\n  }\n  renderTemp();\n\n  function renderWind() {\n    const wearWind = document.querySelector(\".wear__wind\");\n    const baseWind = {\n      above0: `Ветер слабый, ${wind} м/с.`,\n      above3: `Ветер средний, ${wind} м/с.`,\n      above6: `Достаточно сильный ветер, ${wind} м/с. Стоит задуматься о каком-нибудь головном уборе и шарфике!`,\n      above9: `Очень сильный ветер, ${wind} м/с! Лучше конечно не выходить из дома, но если все-таки этого не избежать, то нужно очень хорошо закутаться!`,\n    };\n    if (wearWind != null) {\n      if (wind <= 3) {\n        wearWind.textContent = baseWind.above0;\n      }\n      if (wind <= 6) {\n        wearWind.textContent = baseWind.above3;\n      }\n      if (wind <= 9) {\n        wearWind.textContent = baseWind.above6;\n      }\n      if (wind > 9) {\n        wearWind.textContent = baseWind.above9;\n      }\n    }\n  }\n  renderWind();\n\n  function renderStatus() {\n    const wearStatus = document.querySelector(\".wear__status\");\n    const baseStatus = {\n      sunshine: `За окном светит солнышко, ${weatherStatus}! Какой сегодня прекрасный день =)`,\n      cloudy: `На улице ${weatherStatus}. Нужно подумать: брать ли с собой зонт..`,\n      mist: `На улице ${weatherStatus}.`,\n      rain: `На улице ${weatherStatus}! Обязательно берем зонт!`,\n      snow: `На улице ${weatherStatus}!`,\n    };\n    if (wearStatus != null) {\n      if (main == \"Clear\") {\n        wearStatus.textContent = baseStatus.sunshine;\n      } else if (main == \"Clouds\") {\n        wearStatus.textContent = baseStatus.cloudy;\n      } else if (main == \"Thunderstorm\" || \"Rain\" || \"Drizzle\") {\n        wearStatus.textContent = baseStatus.rain;\n      } else if (main == \"Mist\" || \"Smoke\" || \"Haze\" || \"Fog\") {\n        wearStatus.textContent = baseStatus.mist;\n      } else if (main == \"Snow\") {\n        wearStatus.textContent = baseStatus.snow;\n      }\n    }\n  }\n  renderStatus();\n}\n","import { renderWeather, loadWeather, getWeather } from \"./weather.ts\";\nimport { getWear } from \"./wear.ts\";\n\n// (async function () {\n//   const data = await loadWeather();\n//   getWeather(data);\n//   getWear(data);\n// })();\n\nloadWeather().then((data) => {\n  getWeather(data);\n  getWear(data);\n});\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$b2154cc5dc8a2bf2$exports","URL","resolve","import","meta","url","toString","$bbf83940ebdb735a$var$weatherBlock","document","querySelector","async","$bbf83940ebdb735a$export$3b1732125431ecea","innerHTML","$parcel$interopDefault","response","fetch","method","responseResult","json","ok","location","name","temp","Math","round","main","feelsLike","feels_like","weatherStatus","weather","description","weatherIcon","icon","wind","speed","message","$bbf83940ebdb735a$export$ce1081f0c9899666","data","weatherBlock","console","log","template","$046818bfac32e1d6$export$428a40872cb1b879","wearTemp","baseTemp","above30","above25","above20","above15","above10","above5","above0","aboveMinus5","aboveMinus10","aboveMinus15","aboveMinus20","aboveMinus25","belowminus25","textContent","renderTemp","wearWind","baseWind","above3","above6","above9","renderWind","wearStatus","baseStatus","sunshine","cloudy","mist","rain","snow","renderStatus","then"],"version":3,"file":"index.8d6078cf.js.map"}