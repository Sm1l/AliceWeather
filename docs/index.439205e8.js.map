{"mappings":"AAAA,MAAMA,EAAeC,SAASC,cAAc,mBAWrCC,eAAeC,EAAYC,GACZ,MAAhBL,IACFA,EAAaM,UAAY,wGAO3B,MAEMC,QAAiBC,MADrB,uHACmC,CAAEC,OAAQ,QACzCC,QAAuBH,EAASI,OAEtC,GAAIJ,EAASK,GAKX,MAAO,CACLC,SAAUH,EAAeI,KACzBC,KAAMC,KAAKC,MAAMP,EAAeQ,KAAKH,MACrCI,UAAWH,KAAKC,MAAMP,EAAeQ,KAAKE,YAC1CC,cAAeX,EAAeY,QAAQ,GAAGC,YACzCC,YAAad,EAAeY,QAAQ,GAAGG,KACvCC,KAAMhB,EAAegB,KAAKC,OAG5B3B,EAAaM,UAAYI,EAAekB,O,CAIrC,SAASC,EAAWC,GACzB,MAAMC,EAAe9B,SAASC,cAAc,mBAE5C8B,QAAQC,IAAIH,GAEZ,MAAMjB,SAAEA,EAAQE,KAAEA,EAAII,UAAEA,EAASE,cAAEA,EAAaG,YAAEA,EAAWE,KAAEA,GAASI,EAGlEI,EAAW,kCACYrB,6HAGoBW,iFAEhBH,oFAGFN,iEACqBI,mDACdO,4BAItCK,EAAazB,UAAY4B,C,CChE3B,IAAIC,EAAWlC,SAASC,cAAc,eAGlCkC,EAAcnC,SAASC,cAAc,kBAEzC,GAAIkC,EAAa,CAEbJ,QAAQC,IAAIG,E,MAIdJ,QAAQC,IAAI,YAGP,SAASI,EAAQP,GACtBE,QAAQC,IAAIH,GACZ,MAAMX,UAACA,EAASN,SAAEA,EAAQE,KAAEA,EAAIS,YAAEA,EAAWH,cAAEA,EAAaK,KAAEA,GAASI,EAEvEK,EAASG,UAAY,mBAAmBjB,aAAyBN,iR,CCXnEX,IAAcmC,MAAMT,IAClBD,EAAWC,GACXO,EAAQP,EAAK","sources":["src/js/weather.ts","src/js/wear.ts","src/js/main.js"],"sourcesContent":["const weatherBlock = document.querySelector(\".weather__block\");\n\nexport interface Data {\n    location: any;\n    temp: number;\n    feelsLike: number;\n    weatherStatus: any;\n    weatherIcon: any;\n    wind: any;\n}\n\nexport async function loadWeather(e?): Promise<Data | undefined> {\n  if (weatherBlock != null) {\n    weatherBlock.innerHTML = `\n    <div class=\"weather__loading\">\n    <img src=\"images/gif/Xuw0.gif\" alt=\"Загрузка\" />\n  </div>`;\n  }\n \n\n  const server =\n    \"https://api.openweathermap.org/data/2.5/weather?units=metric&q=Moscow&lang=ru&appid=e2e9bbafa027ecadd7d96a8ed7faef14\";\n  const response = await fetch(server, { method: \"GET\" });\n  const responseResult = await response.json();\n\n  if (response.ok) {\n    // getWeather(responseResult);\n    // return responseResult;\n    \n\n    return {\n      location: responseResult.name,\n      temp: Math.round(responseResult.main.temp),\n      feelsLike: Math.round(responseResult.main.feels_like),\n      weatherStatus: responseResult.weather[0].description,\n      weatherIcon: responseResult.weather[0].icon,\n      wind: responseResult.wind.speed,\n    };\n  } else {\n    weatherBlock.innerHTML = responseResult.message;\n  }\n}\n\nexport function getWeather(data) {\n  const weatherBlock = document.querySelector(\".weather__block\");\n\n  console.log(data);\n\n  const { location, temp, feelsLike, weatherStatus, weatherIcon, wind } = data;\n\n  // HTML шаблон\n  const template = `\n  <div class=\"weather__city\">${location}</div>\n  <div class=\"weather__info\">\n    <div class=\"weather__icon\">\n      <img src=\"https://openweathermap.org/img/w/${weatherIcon}.png\" alt=\"погодный статус\" />\n    </div>\n    <div class=\"weather__status\">${weatherStatus}</div>\n  </div>\n  <div class=\"weather__temp\">\n    <div class=\"weather__real\">${temp}°</div>\n    <div class=\"weather__feels-like\">Ощущается как: ${feelsLike}°</div>\n    <div class=\"weather__wind\">Ветер: ${wind} м/с</div>\n  </div>\n  `;\n\n  weatherBlock.innerHTML = template;\n}\n\nexport function renderWeather() {\n  if (weatherBlock) {\n    loadWeather();\n  }\n}\n","import { Data } from \"./weather\";\n\nlet wearTemp = document.querySelector(\".wear__temp\");\n// const wind = document.querySelector(\".weather__wind\");\n// const rain = document.querySelector(\".weather__status\");\nlet weatherTemp = document.querySelector(\".weather__real\");\n\nif (weatherTemp) {\n  function tempDetection() {\n    console.log(weatherTemp);\n  }\n  tempDetection();\n} else {\n  console.log(\"not work\");\n}\n\nexport function getWear(data: Data) {\n  console.log(data);\n  const {feelsLike, location, temp, weatherIcon, weatherStatus, wind } = data;\n\n  wearTemp.innerText = `Что ж, на улице ${weatherStatus}, меньше ${temp}  градусов.\n       Стоит достаточно тепло одеться, обязательно надеваем шапку.\n       Отлично подойдут джинсы с колготками, бадлон, не забываем под падлон надеть маечку!\n       Поверх теплую курточку: бомбер или пуховички из Юникло. На ноги сапоги или тимбы!\n       `;\n}\n// function tempDetection() {\n//   if (getWeather) {\n//     let temp = document.querySelector(\".weather__real\");\n//     console.log(temp);\n//   }\n\n//   switch (temp) {\n//     case \">=25\":\n//       wearTemp.innerHTML = `\n//         `;\n//       break;\n//     case \">=20\":\n//       break;\n//     case \">=15\":\n//       break;\n//     case \">=10\":\n//       wearTemp.innerText = `Что ж, на улице достаточно прохладно, меньше 15 градусов.\n//       Стоит достаточно тепло одеться, обязательно надеваем шапку.\n//       Отлично подойдут джинсы с колготками, бадлон, не забываем под падлон надеть маечку!\n//       Поверх теплую курточку: бомбер или пуховички из Юникло. На ноги сапоги или тимбы!\n//       `;\n//   }\n// break;\n// }\n","import { renderWeather, loadWeather, getWeather } from \"./weather.ts\";\nimport { getWear } from \"./wear.ts\";\n\n// (async function () {\n//   const data = await loadWeather();\n//   getWeather(data);\n//   getWear(data);\n// })();\n\nloadWeather().then((data) => {\n  getWeather(data);\n  getWear(data);\n});\n"],"names":["$bbf83940ebdb735a$var$weatherBlock","document","querySelector","async","$bbf83940ebdb735a$export$3b1732125431ecea","e","innerHTML","response","fetch","method","responseResult","json","ok","location","name","temp","Math","round","main","feelsLike","feels_like","weatherStatus","weather","description","weatherIcon","icon","wind","speed","message","$bbf83940ebdb735a$export$ce1081f0c9899666","data","weatherBlock","console","log","template","$046818bfac32e1d6$var$wearTemp","$046818bfac32e1d6$var$weatherTemp","$046818bfac32e1d6$export$428a40872cb1b879","innerText","then"],"version":3,"file":"index.439205e8.js.map"}